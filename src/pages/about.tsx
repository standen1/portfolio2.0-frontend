import Head from "next/head";
import Markdown from "markdown-to-jsx";
//API Imports
import type { GetStaticProps, InferGetStaticPropsType } from 'next';
import { getAboutPage } from '@/lib/api';
import { AboutPageProps } from "@/types/interfaces";
//Component Imports
import Hero from "@/components/Hero/Hero";
import ContentContainer from "@/components/ContentContainer/ContentContainer";

export default function About({ data }: InferGetStaticPropsType<typeof getStaticProps>) {

  return (
    <>
      <Head>
        <title>Sean Standen | About Me</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/g" />
      </Head>
      <div>
        <main style={{ backgroundColor: "#F8F8F8" }}>
          <Hero pageInfo={{
            Title: "Welcome to My Portfolio",
            Description: "This is a showcase of my work.",
            featuredImage: {
              src: "/jsabet1.jpg",
              alt: "A description of the image",
              width: "800px",
              height: "600px"
            }
          }} />
          <section style={{ paddingTop: "16px", maxWidth: "1200px", margin: "0 auto" }}>
            <ContentContainer>
                <div style={{padding: '50px 30px', display: 'flex', flexDirection: 'column', gap: '30px'}}>
                    <h2>{data.PageData.Title}</h2>
                    <div>
                        <Markdown>
                            {data.PageData.Content}
                        </Markdown>
                    </div>
                </div>
            </ContentContainer>
          </section>
        </main>
      </div>
    </>
  );
}

export const getStaticProps: GetStaticProps<AboutPageProps> = async (context) => {
      // Fetch your data here
      const fetchedData = await getAboutPage();
      return {
        props: {
          data: fetchedData
        },
      };
};
